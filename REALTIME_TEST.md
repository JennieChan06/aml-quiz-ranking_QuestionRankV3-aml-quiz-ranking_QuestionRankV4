# 🏆 即時排行榜測試指南

## 📱 QR Code 功能測試

### 1. QR Code 顯示檢查
- ✅ 打開應用首頁
- ✅ 確認 QR Code 正常顯示在姓名輸入區域
- ✅ QR Code 應該包含當前頁面的完整 URL
- ✅ 手機掃描 QR Code 應該能直接打開測驗頁面

### 2. 移動設備測試
```
1. 用電腦打開測驗頁面
2. 用手機掃描 QR Code
3. 手機上應該能正常顯示測驗界面
4. 兩個設備可以同時參與測驗
```

## 🔄 即時排行榜功能測試

### 本地測試（離線模式）
當沒有後端服務器時：
- ✅ 顯示 "離線模式 - 無即時排行榜" 狀態
- ✅ 測驗功能正常工作
- ✅ 排行榜顯示 "排行榜功能需要網路連線"

### 完整功能測試（需要部署到 Render）

#### 步驟 1：部署到 Render
```bash
# 1. 推送代碼到 GitHub
git add .
git commit -m "Add real-time leaderboard features"
git push origin main

# 2. 在 Render 上部署
# 按照 DEPLOYMENT.md 的指引部署
```

#### 步驟 2：多人測試
```
1. 獲取 Render 部署的 URL（例如：https://aml-quiz-ranking.onrender.com）
2. 分享 URL 給同事們
3. 多人同時參與測驗
4. 觀察即時功能：
   - ✅ 連接狀態顯示 "已連接到即時排行榜"
   - ✅ 有人加入時顯示通知 "XXX 加入了排位賽！"
   - ✅ 有人完成測驗時顯示 "XXX 完成測驗！分數：XX"
   - ✅ 排行榜實時更新
```

## 🧪 測試場景

### 場景 1：QR Code 掃描測試
```
參與者：2-3人
設備：電腦 + 手機

測試步驟：
1. 一人用電腦打開測驗頁面
2. 其他人用手機掃描 QR Code
3. 所有人同時開始測驗
4. 觀察即時通知和排行榜更新
```

### 場景 2：即時排行榜測試
```
參與者：5-10人
設備：各自的設備

測試步驟：
1. 所有人打開相同的測驗 URL
2. 分批開始測驗（間隔1-2分鐘）
3. 觀察：
   - 新人加入的通知
   - 完成測驗的通知
   - 排行榜的實時更新
   - 統計數據的變化
```

### 場景 3：網路中斷測試
```
測試步驟：
1. 正常連接狀態下開始測驗
2. 中途斷開網路連接
3. 繼續完成測驗
4. 重新連接網路
5. 觀察狀態變化和數據同步
```

## 📊 預期行為

### 連接狀態
- 🟢 **已連接**：顯示 "已連接到即時排行榜"
- 🟡 **連接中斷**：顯示 "連線中斷，使用離線模式"
- 🔵 **離線模式**：顯示 "離線模式 - 無即時排行榜"

### 即時通知
- 👋 **新人加入**："{姓名} 加入了排位賽！"
- 🎯 **完成測驗**："{姓名} 完成測驗！分數：{分數}"
- 📊 **排行榜更新**："排行榜已更新！"

### 排行榜功能
- ✅ 實時顯示最新排名
- ✅ 顯示參與人數、平均分數、最高分數
- ✅ 按分數和完成時間排序
- ✅ 前三名特殊標示

## 🔧 故障排除

### QR Code 不顯示
```
可能原因：
1. QRCode 庫載入失敗
2. 網路連接問題

解決方案：
1. 檢查瀏覽器控制台錯誤
2. 重新整理頁面
3. 檢查網路連接
```

### Socket.IO 連接失敗
```
可能原因：
1. 後端服務未啟動
2. 防火牆阻擋 WebSocket
3. 網路環境不支持 WebSocket

解決方案：
1. 確認後端服務正常運行
2. 檢查網路設置
3. 使用離線模式完成測驗
```

### 排行榜不更新
```
可能原因：
1. Socket.IO 連接中斷
2. 後端數據庫問題

解決方案：
1. 重新整理頁面
2. 檢查連接狀態
3. 手動點擊 "查看排行榜" 按鈕
```

## 📱 移動設備優化

### QR Code 掃描建議
- 使用手機相機或微信掃一掃
- 確保 QR Code 清晰可見
- 掃描距離保持 10-20cm

### 移動端體驗
- 響應式設計適配各種屏幕
- 觸控操作優化
- 通知位置自動調整

## 🎯 成功指標

測試成功的標準：
- ✅ QR Code 正常顯示和掃描
- ✅ 多人同時參與無衝突
- ✅ 即時通知正常顯示
- ✅ 排行榜實時更新
- ✅ 離線模式正常降級
- ✅ 移動設備體驗良好

---

**提示**：建議先在小範圍內測試（2-3人），確認功能正常後再擴大到更多參與者。 